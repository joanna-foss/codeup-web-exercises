<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>MAPBOX MAPS</title>
	<!-- Mapbox CSS -->
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet'/>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
	<!-- Custom CSS -->
	<style>
		#map {
			width: 85%;
			height: 700px;
		}
		
		#fly{
			/*width: 60%;*/
			/*height: 3em;*/
			/*background-color: black;*/
			/*color: white;*/
		}
	</style>
</head>
<body>
<div class="container">
	<h1 class="text-center">MAPBOX</h1>
	
	<div id='map' class="mx-auto"></div>
	
	<div class="text-center"><button id="fly" class="btn-dark w-75 m-5">Let's Fly!</button></div>
</div>

<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<script src="js/mapbox-geocoder-utils.js"></script>
<script src="keys.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
<!-- Custom JS -->
<script>

geocode("Shreveport", mapboxAPIKey).then(function(e){
	console.log(e);
	
	let accessToken = mapboxAPIKey;
	mapboxgl.accessToken = accessToken;
	let map = new mapboxgl.Map({
		container: 'map',
		style: 'mapbox://styles/mapbox/outdoors-v11',
		zoom: 5.2,
		center: e,
		pitch: 50
	});
	
	let arrayOfFavs = [
		{
			name: "R&C Korean",
			LngLat: [-88.93682, 30.4030],
			addy: "",
			info: "A Korean restaurant"
		},
		{
			name: "Yum Thai",
			LngLat: [-98.7088, 29.4914],
			addy: "",
			info: "A Thai restaurant"
		},
		{
			name: "Sucre",
			LngLat: [-90.0547, 30.0366],
			addy: "",
			info: "A sweet place"
		}
	]
	
	arrayOfFavs.forEach(function (elem) {
		let pop = new mapboxgl.Popup(elem.name).setHTML("<h1>" + elem.name + "</h1>" + elem.info);
		new mapboxgl.Marker({"color": 'pink'}).setLngLat(elem.LngLat).addTo(map).setPopup(pop);
	});
	
});

</script>
</body>
</html>